{% extends 'base.html.twig' %}

{% block title %}Modifier {{ panneau.reference }}{% endblock %}

{% block breadcrumbs %}
    <nav aria-label="breadcrumb" class="breadcrumb-nav mb-3">
        <ol class="breadcrumb mb-0">
            <li class="breadcrumb-item"><a href="{{ path('app_dashboard') }}">Tableau de bord</a></li>
            <li class="breadcrumb-item"><a href="{{ path('app_panneau_index') }}">Panneaux</a></li>
            <li class="breadcrumb-item"><a href="{{ path('app_panneau_show', { id: panneau.id }) }}">{{ panneau.reference }}</a></li>
            <li class="breadcrumb-item active" aria-current="page">Modifier</li>
        </ol>
    </nav>
{% endblock %}

{% block body %}
<div class="page-header d-flex flex-wrap justify-content-between align-items-start gap-2">
    <div>
        <h1 class="page-title">Modifier {{ panneau.reference }}</h1>
        <p class="page-description">Modifiez les informations du panneau</p>
    </div>
    <a href="{{ path('app_panneau_show', { id: panneau.id }) }}" class="btn-secondary-modern">
        <i class="bi bi-arrow-left"></i> Retour Ã  la fiche
    </a>
</div>

<div class="row g-3 g-lg-4">
    <div class="col-lg-8">
        <div class="section-card panneau-new-form" role="region" aria-labelledby="panneau-form-title">
            <div class="form-card-inner">
                {% include 'panneau/_form.html.twig' with {
                    form: form,
                    edit_mode: true,
                    panneau: panneau,
                    cancel_path: path('app_panneau_show', { id: panneau.id })
                } %}
            </div>
        </div>
    </div>
    {% include 'panneau/_sidebar.html.twig' with { edit_mode: true } %}
</div>

<script>
(function () {
    var typeSelect = document.querySelector('[name="{{ form.type.vars.full_name }}"]');
    var faceBWrapper = document.getElementById('edit-face-b-wrapper');
    if (!typeSelect || !faceBWrapper) return;
    function toggleFaceB() {
        faceBWrapper.style.display = typeSelect.value === 'double' ? 'block' : 'none';
    }
    typeSelect.addEventListener('change', toggleFaceB);
    toggleFaceB();
})();
</script>
{% endblock %}
